<!DOCTYPE html>
<html lang="en">
<head>
    <title>[Woketo] Test echo server</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1>Test woketo echo server <small>with browser</small></h1>
                <p>Each button should result in a received message of the same value.</p>
                <button id="hello" class="btn btn-primary">Say Hello</button>
                <button id="yolo" class="btn btn-primary">Say Yolo</button>
                <button id="swagg" class="btn btn-primary">Say Swagg</button>
                <button id="disconnect" class="btn btn-primary btn-warning">Disconnect</button>

                <pre id="result">
                </pre>
            </div>
        </div>
    </div>

    <script>
        var ws = new WebSocket("ws://127.0.0.1:8080");
        var pre = document.getElementById('result');
        ws.onopen = function () {
            pre.innerHTML += '\nConnection opened.';
        };
        ws.onmessage = function (e) {
            pre.innerHTML += '\nGot message: ' + e.data;
        };
        ws.onclose = function (event) {
            pre.innerHTML += '\nConnection closed';
        };

        document.getElementById('hello').onclick = function () {
            ws.send('Hello');
        };
        document.getElementById('yolo').onclick = function () {
            ws.send('YOLOOOO');
        };
        document.getElementById('swagg').onclick = function () {
            ws.send('OMG THIS IZ SO SWAGG11!11!1!11');
        };
        document.getElementById('disconnect').onclick = function () {
            pre.innerHTML += '\nYou\'re closing connection';
            ws.close();
        };
    </script>
</body>
</html>
